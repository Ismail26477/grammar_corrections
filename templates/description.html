<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Correction Details</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/description.css') }}">
</head>
<body>
    <nav class="topnav">
        <div class="nav-content">
            <span class="logo">Correction Details</span>
        </div> 
    </nav>
    <div class="container">
        <a href="{{ url_for('view_corrections') }}" class="back-button">← Back to History</a>
        
        <div class="section">
            <h2>Original Text</h2>
            <div class="text-box">{{ correction.original }}</div>
        </div>

        <div class="section">
            <h2>Corrected Text</h2>
            <div class="text-box corrected">{{ correction.corrected }}</div>
        </div>

        <div class="section">
            <h2>Error Statistics</h2>
            <div class="error-stats">
                <div class="stat-box total">
                    <span class="stat-number">{{ correction.counts.total }}</span>
                    <span class="stat-label" >Total Errors</span>
                </div>
                <div class="stat-box">
                    <span class="stat-number">{{ correction.counts.capitalization }}</span>
                    <span class="stat-label">Capitalization</span>
                </div>
                <div class="stat-box">
                    <span class="stat-number">{{ correction.counts.spelling }}</span>
                    <span class="stat-label">Spelling</span>
                </div>
                <div class="stat-box">
                    <span class="stat-number">{{ correction.counts.grammar }}</span>
                    <span class="stat-label">Grammar</span>
                </div>
                <div class="stat-box">
                    <span class="stat-number">{{ correction.counts.punctuation }}</span>
                    <span class="stat-label">Punctuation</span>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Error Details</h2>
            <div class="tabs">
                <button class="tab-button active" data-tab="all">All Errors</button>
                <button class="tab-button" data-tab="capitalization">Capitalization</button>
                <button class="tab-button" data-tab="spelling">Spelling</button>
                <button class="tab-button" data-tab="grammar">Grammar</button>
                <button class="tab-button" data-tab="punctuation">Punctuation</button>
            </div>

            <div id="all" class="tab-content active">
                {% for error in correction.details.all %}
                <div class="error-item">
                    <span class="incorrect">{{ error[0] }}</span> → 
                    <span class="correct">{{ error[1] }}</span>
                </div>
                {% endfor %}
            </div>
        
            <div id="capitalization" class="tab-content">
                {% for error in correction.details.capitalization %}
                <div class="error-item">
                    <span class="incorrect">{{ error[0] }}</span> →
                    <span class="correct">{{ error[1] }}</span>
                </div>
                {% endfor %}
            </div>
        
            <div id="spelling" class="tab-content">
                {% for error in correction.details.spelling %}
                <div class="error-item">
                    <span class="incorrect">{{ error[0] }}</span> →
                    <span class="correct">{{ error[1] }}</span>
                </div>
                {% endfor %}
            </div>
        
            <div id="grammar" class="tab-content">
                {% for error in correction.details.grammar %}
                <div class="error-item">
                    <span class="incorrect">{{ error[0] }}</span> →
                    <span class="correct">{{ error[1] }}</span>
                </div>
                {% endfor %}
            </div>
        
            <div id="punctuation" class="tab-content">
                {% for error in correction.details.punctuation %}
                <div class="error-item">
                    <span class="incorrect">{{ error[0] }}</span> →
                    <span class="correct">{{ error[1] }}</span>
                </div>
                {% endfor %}
            </div>
            
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/description.js') }}"></script>
</body>
</html> 